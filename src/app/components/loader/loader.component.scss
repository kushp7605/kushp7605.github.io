$cyan: rgb(15, 15, 15);
$tiles: 5;

body {
  background-color: #eee;
}

p {
  font-weight: bold;
  color: gold;
  text-align: center;
}

.wrapper {
  height: 100vh;
  text-align: center;

  button {
    position: relative;
    top: 50%;
    transform: translateY(-50%);
  }
}

.loader {
  position: fixed;
  z-index: 999;
  top: 0;
  left: 0;
  width: 0;
  height: 100vh;
  transition: width 0s 1.4s ease;

  &__icon {
    position: absolute;
    z-index: 1;
    top: 50%;
    left: 50%;
    transform: translateX(-50%) translateY(-50%);
    opacity: 0;
    transition: opacity 0.5s ease;

    svg {
      transform-origin: 0 0;
    }
  }
  

  //Scale
  .spinner-icon {
    animation: scale 2s ease-in-out infinite;
    display: block;
    margin: 0 auto;
    width: 50%;
  }

  @keyframes scale {
    0%, 100% {
      transform: scale(0.9);
    }
    50% {
      transform: scale(1.1);
    }
  }

  &__tile {
    position: absolute;
    left: 0;
    width: 0;
    height: 20%;
    background-color: $cyan;
    transition: width 0.7s ease;

    @for $i from 1 through $tiles {
      &:nth-child(#{$i}) {
        top: calc(#{$i - 1} * 20%);
        transition-delay: #{($i - 1) * 0.2s};
      }
    }
  }

  &--active {
    width: 100%;
    transition-delay: 0s;

    .loader__icon {
      opacity: 1;
      transition: opacity 0.5s 1.4s ease;
    }

    .loader__tile {
      width: 100%;

      @for $i from 1 through $tiles {
        &:nth-child(#{$i}) {
          transition-delay: #{($i - 1) * 0.2s};
        }
      }
    }
  }
}

/* Full-page Loader */
.loader {
  position: fixed;
  top: 0; left: 0;
  width: 100vw;
  height: 100vh;
  background: #0c1117;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  overflow: hidden;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.5s ease;
}

.loader.active {
  opacity: 1;
  pointer-events: all;
}

/* Animated Background Tiles */
.animated-bg {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  overflow: hidden;
}

.bg-tile {
  position: absolute;
  width: 50px;
  height: 50px;
  background: rgba(251,176,52,0.1);
  top: -100px;
  animation: floatTile 6s linear infinite;
}

/* 20 Tiles with staggered positions */
.bg-tile:nth-child(1) { left: 2%; animation-delay: 0s; }
.bg-tile:nth-child(2) { left: 8%; animation-delay: 0.5s; }
.bg-tile:nth-child(3) { left: 12%; animation-delay: 1s; }
.bg-tile:nth-child(4) { left: 18%; animation-delay: 0.8s; }
.bg-tile:nth-child(5) { left: 22%; animation-delay: 1.2s; }
.bg-tile:nth-child(6) { left: 28%; animation-delay: 0.3s; }
.bg-tile:nth-child(7) { left: 32%; animation-delay: 1.5s; }
.bg-tile:nth-child(8) { left: 38%; animation-delay: 0.7s; }
.bg-tile:nth-child(9) { left: 42%; animation-delay: 1.1s; }
.bg-tile:nth-child(10){ left: 48%; animation-delay: 0.9s; }
.bg-tile:nth-child(11){ left: 52%; animation-delay: 1.4s; }
.bg-tile:nth-child(12){ left: 58%; animation-delay: 0.6s; }
.bg-tile:nth-child(13){ left: 62%; animation-delay: 1.3s; }
.bg-tile:nth-child(14){ left: 68%; animation-delay: 0.4s; }
.bg-tile:nth-child(15){ left: 72%; animation-delay: 1.6s; }
.bg-tile:nth-child(16){ left: 78%; animation-delay: 0.2s; }
.bg-tile:nth-child(17){ left: 82%; animation-delay: 1.8s; }
.bg-tile:nth-child(18){ left: 88%; animation-delay: 0.1s; }
.bg-tile:nth-child(19){ left: 92%; animation-delay: 1.9s; }
.bg-tile:nth-child(20){ left: 96%; animation-delay: 2.3s; }
.bg-tile:nth-child(21){ left: 96%; animation-delay: 1.3s; }
.bg-tile:nth-child(22){ left: 96%; animation-delay: 1.0s; }
.bg-tile:nth-child(23){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(24){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(25){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(26){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(27){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(28){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(29){ left: 96%; animation-delay: 0.3s; }
.bg-tile:nth-child(30){ left: 96%; animation-delay: 0.3s; }

@keyframes floatTile {
  0% { transform: translateY(0) rotate(0deg); opacity: 0.1; }
  50% { transform: translateY(600px) rotate(180deg); opacity: 0.3; }
  100% { transform: translateY(1200px) rotate(360deg); opacity: 0.1; }
}

/* Center Ring & Logo */
.loader-center {
  position: relative;
  z-index: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100%;
  flex-direction: column;
  gap: 15px;
  padding-top: 270px;
}

/* Energy Ring */
.energy-ring {
  width: 320px;
  height: 320px;
  border: 8px solid rgba(251,176,52,0.2);
  border-top: 8px solid #fbb034;
  border-radius: 50%;
  animation: rotateRing 2s linear infinite;
  position: absolute;        /* stays behind logo, doesn't affect layout */
}


/* Logo inside Ring */
.logo {
  width: 250px;
  height: auto;
  animation: bounce 1.5s ease-in-out infinite;
  z-index: 2;
  position: relative;
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); visibility: visible; }
  to { opacity: 1; transform: translateY(0); visibility: visible; }
}

/* Tagline Below Ring */
.tagline {
  margin-bottom: 200px; /* slightly below the ring */
  color: #fbb034;
  font-size: 1.5rem;
  font-weight: bold;
  opacity: 0;
  animation: fadeUp 1s ease forwards;
  animation-delay: 0.8s;
  z-index: 2;
  text-align: center;
}

@keyframes fadeScaleIn {
  0% {
    opacity: 0;
    transform: scale(0.8); 
  }
  50% {
    opacity: 0.5;
    transform: scale(1.05); 
  }
  100% {
    opacity: 1;
    transform: scale(1); 
  }
}


.brand-headline {
  color: #fbb034;
  font-size: 1.5rem;
  text-align: center;
  margin-top: 80px;
  animation: fadeScaleIn 1.2s ease forwards;
  animation-delay: 1s;
}

/* ─────────── Golden Rain ─────────── */
.rain {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
}

.rain span {
  position: absolute;
  top: -120%;
  width: 2px;
  height: 120%;
  background: linear-gradient(to bottom, transparent 0%, rgba(251,176,52,0.5) 80%);
  transform: rotate(-25deg);
  animation: rainDrop 2s linear infinite;
}

/* Explicitly define 10 raindrops as example */
.rain span:nth-child(1) { left: 5%; animation-delay: 0s; animation-duration: 2s; }
.rain span:nth-child(2) { left: 15%; animation-delay: 0.5s; animation-duration: 2.5s; }
.rain span:nth-child(3) { left: 25%; animation-delay: 1s; animation-duration: 1.8s; }
.rain span:nth-child(4) { left: 35%; animation-delay: 0.2s; animation-duration: 2.2s; }
.rain span:nth-child(5) { left: 45%; animation-delay: 0.8s; animation-duration: 2.3s; }
.rain span:nth-child(6) { left: 55%; animation-delay: 0.1s; animation-duration: 2.1s; }
.rain span:nth-child(7) { left: 65%; animation-delay: 0.7s; animation-duration: 1.9s; }
.rain span:nth-child(8) { left: 75%; animation-delay: 1.2s; animation-duration: 2.4s; }
.rain span:nth-child(9) { left: 85%; animation-delay: 0.3s; animation-duration: 2s; }
.rain span:nth-child(10){ left: 95%; animation-delay: 1.5s; animation-duration: 2.5s; }

@keyframes rainDrop {
  0% { transform: translateY(0) rotate(-25deg); opacity: 0.5; }
  50% { opacity: 1; }
  100% { transform: translateY(200%) rotate(-25deg); opacity: 0; }
}

/* ─────────── Fireflies ─────────── */
.firefly {
  position: absolute;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: gold;
  box-shadow: 0 0 10px gold, 0 0 20px rgba(255,215,0,0.5);
  opacity: 0.8;
  animation: drift 8s ease-in-out infinite alternate;
}

.firefly:nth-child(1) { top: 10%; left: 10%; animation-duration: 6s; }
.firefly:nth-child(2) { top: 20%; left: 25%; animation-duration: 7s; }
.firefly:nth-child(3) { top: 35%; left: 40%; animation-duration: 8s; }
.firefly:nth-child(4) { top: 50%; left: 60%; animation-duration: 9s; }
.firefly:nth-child(5) { top: 30%; left: 75%; animation-duration: 10s; }

@keyframes drift {
  0% { transform: translate(0,0) scale(1); }
  50% { transform: translate(30px,-50px) scale(1.2); }
  100% { transform: translate(-20px,30px) scale(0.8); }
}

/* ─────────── Flying Golden Birds ─────────── */
.bird-layer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  pointer-events: none;
  z-index: 1; /* behind logo */
}

.bird {
  position: absolute;
  width: 20px;
  height: 10px;
  background: gold;
  clip-path: polygon(0% 50%, 50% 0%, 100% 50%, 50% 100%);
  animation: fly linear infinite;
}

.bird:nth-child(1) { top: 20%; left: -10%; animation-duration: 8s; }
.bird:nth-child(2) { top: 35%; left: -15%; animation-duration: 10s; }
.bird:nth-child(3) { top: 50%; left: -5%; animation-duration: 9s; }
.bird:nth-child(4) { top: 60%; left: -20%; animation-duration: 11s; }
.bird:nth-child(5) { top: 40%; left: -8%; animation-duration: 7s; }

@keyframes fly {
  0% { transform: translateX(0) translateY(0) rotate(0deg); }
  25% { transform: translateX(25vw) translateY(-10px) rotate(10deg); }
  50% { transform: translateX(50vw) translateY(10px) rotate(-10deg); }
  75% { transform: translateX(75vw) translateY(-5px) rotate(5deg); }
  100% { transform: translateX(110vw) translateY(0) rotate(0deg); }
}

/* ─────────── Shooting Stars ─────────── */
.shooting-star {
  position: absolute;
  width: 2px;
  height: 60px;
  background: linear-gradient(to bottom, rgba(251,176,52,0), gold);
  transform: rotate(-45deg);
  opacity: 0;
  animation: shoot 3s linear infinite;
}

.shooting-star:nth-child(1) { top: 10%; left: 20%; animation-delay: 0s; }
.shooting-star:nth-child(2) { top: 25%; left: 50%; animation-delay: 1s; }
.shooting-star:nth-child(3) { top: 40%; left: 70%; animation-delay: 2s; }
.shooting-star:nth-child(4) { top: 15%; left: 80%; animation-delay: 1.5s; }
.shooting-star:nth-child(5) { top: 30%; left: 10%; animation-delay: 0.5s; }

@keyframes shoot {
  0% { transform: translateX(0) translateY(0) rotate(-45deg); opacity: 1; }
  100% { transform: translateX(500px) translateY(500px) rotate(-45deg); opacity: 0; }
}



/* Animations */
@keyframes rotateRing {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes bounce {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-25px) scale(1.15); }
}

@keyframes fadeUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Responsive Adjustments */
@media (max-width: 1200px) {
  .energy-ring { width: 250px; height: 250px; }
  .logo { width: 200px; }
}

@media (max-width: 992px) {
  .energy-ring { width: 220px; height: 220px; }
  .logo { width: 180px; }
  .tagline, .brand-headline { font-size: 1.3rem; }
}

@media (max-width: 768px) {
  .loader-center { padding-top: 150px; }
  .energy-ring { width: 220px; height: 220px; }
  .logo { width: 150px; }
  .tagline, .brand-headline { font-size: 1.1rem; }
}

@media (max-width: 480px) {
  .loader-center { padding-top: 250px;}
  // .energy-ring { width: 140px; height: 140px; }
  .energy-ring { width: 220px; height: 220px; }
  .logo { width: 140px; }
  .tagline, .brand-headline { font-size: 1rem; }
  .bg-tile { width: 30px; height: 30px; }
}

